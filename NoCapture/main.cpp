#include <Windows.h>
#include <TlHelp32.h>
#include <iostream>
#include <thread>
#include <chrono>
#include <vector>
#include <string>

BYTE _affinitySet[] = {
    0x48, 0x83, 0xEC, 0x28,                         // sub rsp, 0x28
    0x48, 0xC7, 0xC1, 0x00, 0x00, 0x00, 0x00,       // mov rcx, 0 (hwnd placeholder)
    0x48, 0xC7, 0xC2, 0x00, 0x00, 0x00, 0x00,       // mov rdx, 0 (affinity value placeholder)
    0x48, 0xB8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // movabs rax, 0 (function address placeholder)
    0xFF, 0xD0,                                     // call rax
    0x48, 0xA3, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, // mov [absolute_address], rax
    0x48, 0x83, 0xC4, 0x28,                         // add rsp, 0x28
    0xC3                                            // ret
};